{"openapi":"3.1.0","info":{"title":"Reprompt API v3 (by Reprompt, an API Company)","description":"Simplified API","version":"3.0"},"servers":[{"url":"/v3"}],"paths":{"/enrich":{"post":{"tags":["Enrich"],"summary":"Enrich","description":"The flagship V3 enrichment endpoint for multiple attributes.\n\n**Features:**\n- Enrich multiple attributes in a single request\n- RESTful design with clear input/output structure\n- Support for all place enrichment types\n- Comprehensive error handling and partial results\n\n**Input Structure:**\n- `inputs`: Place information (name, address, latitude, longitude)\n- `attributes`: Array of attributes to enrich (e.g., [\"names\", \"openingHours\", \"phoneNumbers\"])\n\n**Supported Attributes:**\n- `names`: Business name variations and standardization\n- `openingHours`: Business hours and schedule information\n- `phoneNumbers`: Phone number verification and formatting\n- `websites`: Official website discovery and validation\n- `categories`: Business category classification\n- `address`: Address standardization and validation\n- `closed_permanently`: Business closure status verification\n- Plus geocoding: `forward_geocode`, `reverse_geocode`\n\n**Response Structure:**\nReturns enriched data for each requested attribute with confidence scores and reasoning.","operationId":"enrich_enrich_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"apiKey","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apikey"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/V3EnrichRequest"},"examples":{"flagship_example":{"summary":"Flagship Example - Multiple Attributes","description":"Enrich a place with multiple attributes at once","value":{"inputs":{"name":"Joe's Pizza","address":"7 Carmine St, New York, NY 10014","latitude":40.7359,"longitude":-73.9911},"attributes":["names","openingHours","phoneNumbers"]}},"restaurant_enrichment":{"summary":"Restaurant Enrichment","description":"Comprehensive enrichment for a restaurant","value":{"inputs":{"name":"Starbucks","address":"1585 Broadway, New York, NY 10036","latitude":40.7614327,"longitude":-73.9776216},"attributes":["names","openingHours","phoneNumbers","websites","categories"]}},"single_attribute":{"summary":"Single Attribute Enrichment","description":"Enrich with just one attribute","value":{"inputs":{"name":"Central Park","latitude":40.7829,"longitude":-73.9654},"attributes":["closed_permanently"]}},"coordinates_only":{"summary":"Coordinates Only","description":"Enrich using only coordinates","value":{"inputs":{"latitude":40.7359,"longitude":-73.9911},"attributes":["names","address"]}},"geocoding_example":{"summary":"Geocoding Operations","description":"Special geocoding attributes","value":{"inputs":{"query":"123 Main St, New York, NY 10001"},"attributes":["forward_geocode"]}}}}}},"responses":{"200":{"description":"Enrichment completed successfully","content":{"application/json":{"example":{"status":"completed","data":{"names":{"primary_name":"Joe's Pizza","alternative_names":["Joe's","Joe's NY Pizza"],"confidence":"HIGH","reasoning":"Found consistent name usage across multiple sources"},"openingHours":{"monday":"11:00-23:00","tuesday":"11:00-23:00","wednesday":"11:00-23:00","thursday":"11:00-23:00","friday":"11:00-00:00","saturday":"11:00-00:00","sunday":"12:00-22:00","confidence":"HIGH","reasoning":"Hours verified from official website and recent reviews"},"phoneNumbers":{"primary_phone":"+1-212-366-1182","additional_numbers":[],"confidence":"HIGH","reasoning":"Phone number verified from official business listings"}},"credits_used":15,"credits_remaining":9985,"processing_time_ms":2340,"metadata":{"request_id":"req_12345","enriched_at":"2024-01-15T10:30:00Z"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}},"400":{"description":"Invalid request parameters"},"401":{"description":"Invalid API credentials"},"500":{"description":"Internal server error"}}}},"/attributes":{"get":{"tags":["Enrich"],"summary":"List Attributes","description":"List available attributes and their costs","operationId":"list_attributes_attributes_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"apiKey","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apikey"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/V3AttributesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/find_places":{"get":{"tags":["Find Places"],"summary":"Find Places","description":"Find places near a given point.\n\nSupports location-based search with optional query, categories, and geometry filters.\n\n**Parameters:**\n- **latitude** (lat): Latitude for the search center (required)\n- **longitude** (long): Longitude for the search center (required)  \n- **radius**: Optional radius in meters for the search area (default: 500m)\n- **geometry**: Optional GeoJSON geometry (FeatureCollection or Feature) as a JSON string\n- **categories**: Optional list of categories to filter results (e.g., [\"school\", \"government building\"])\n- **search_query** (query): Optional free-form search query on place names\n\n**Authentication:**\nBearer token required in Authorization header.\n\n**Response:**\nReturns an array of places with detailed information including coordinates, categories, contact info, and business status.","operationId":"find_places_find_places_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"lat","in":"query","required":true,"schema":{"type":"number","description":"Latitude for the search center","title":"Lat"},"description":"Latitude for the search center"},{"name":"long","in":"query","required":true,"schema":{"type":"number","description":"Longitude for the search center","title":"Long"},"description":"Longitude for the search center"},{"name":"radius","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"description":"Optional radius in meters for the search area. Default 500m","default":500,"title":"Radius"},"description":"Optional radius in meters for the search area. Default 500m"},{"name":"geometry","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional GeoJSON geometry (FeatureCollection or Feature) as a JSON string","title":"Geometry"},"description":"Optional GeoJSON geometry (FeatureCollection or Feature) as a JSON string"},{"name":"categories","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"string"}},{"type":"null"}],"description":"Optional list of categories to filter results","title":"Categories"},"description":"Optional list of categories to filter results"},{"name":"query","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional free-form search query on place names","title":"Query"},"description":"Optional free-form search query on place names"},{"name":"apiKey","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apikey"}}],"responses":{"200":{"description":"Successfully found places near the specified location","content":{"application/json":{"example":{"results":[{"place_id":"6fa459ea-ee8a-3ca4-894e-db77e160355e","name":"Washington High School","full_address":"1200 Main St NW, Washington, DC 20009, USA","latitude":38.8952,"longitude":-77.0416,"categories":["school","education"],"phone_number":"+1 202-555-0199","open_status":"open","website":"https://www.washingtonhs.edu"},{"place_id":"9b2c9e2c-02d7-4c89-a9de-222222222222","name":"Embassy of Canada","full_address":"501 Pennsylvania Ave NW, Washington, DC 20001, USA","latitude":38.8936,"longitude":-77.0422,"categories":["government","embassy"],"phone_number":"+1 202-682-1740","open_status":"open","website":"https://www.international.gc.ca/embassy"}],"metadata":{"credits":1}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}},"400":{"description":"Invalid request parameters"},"401":{"description":"Invalid API credentials"},"500":{"description":"Internal server error"}}}},"/placematch":{"post":{"tags":["Placematch"],"summary":"Placematch","description":"Match places across different geospatial databases and your own data.\n\nThe Placematch API is a location matching and conflation service designed for:\n\n**General Use Cases:**\n- **Assign 3rd party IDs**: Get GERS ID from Overture or Foursquare ID for your dataset\n- **Find likely places**: Match user coordinates against proprietary POI databases (geotagging)\n- **Data Enrichment**: Match messy place data against authoritative sources\n- **Deduplication**: Find and eliminate duplicate places across datasets\n\n**Data Sources:**\n- `reprompt`: Reprompt's proprietary high-quality place database (always included)\n- `overture`: Overture Maps Foundation open data\n- `foursquare`: Foursquare Places API data  \n- `byod`: Match against your own data candidates (max 50 places)\n\n**Input Modes:**\n- **Coordinates-Only**: Use when you have GPS location but no name information\n- **Precise Matching**: Provide name, address, coordinates for most accurate results\n\n**Response Format:**\nReturns a list of matched places with confidence scores, match explanations, and metadata.","operationId":"placematch_placematch_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"apiKey","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apikey"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlacematchRequest"},"examples":{"coordinates_only_matching":{"summary":"Coordinates-Only Matching","description":"Match using only GPS coordinates when no name information is available","value":{"place":{"latitude":40.7829,"longitude":-73.9654},"match_sources":["reprompt","overture"],"max_matches":5,"radius":200}},"precise_matching":{"summary":"Precise Matching (Recommended)","description":"Use complete information for most accurate results","value":{"place":{"name":"Starbucks","address":"1585 Broadway, New York, NY 10036","latitude":40.7614327,"longitude":-73.9776216,"phone":"+1-212-555-0123"},"match_sources":["reprompt","foursquare"],"max_matches":3,"radius":100}},"byod_matching":{"summary":"Match Against Your Own Data","description":"Match user coordinates against your own POI candidates","value":{"place":{"latitude":37.7749,"longitude":-122.4194},"match_sources":["byod"],"match_byod_candidates":[{"name":"Blue Bottle Coffee","address":"315 Linden St","latitude":37.775,"longitude":-122.4195,"external_id":"bb_001"},{"name":"Ritual Coffee Roasters","address":"1026 Valencia St","latitude":37.7748,"longitude":-122.4193,"external_id":"ritual_001"}],"max_matches":3,"radius":100}},"data_cleaning":{"summary":"Data Cleaning","description":"Clean messy place data by matching against authoritative sources","value":{"place":{"name":"mcdonalds times square manhattan","address":"1560 Broadway","latitude":40.7589,"longitude":-73.9851},"match_sources":["reprompt"],"max_matches":3,"radius":200}},"deduplication":{"summary":"Cross-Dataset Deduplication","description":"Find duplicates by matching places from one dataset against candidates from another","value":{"place":{"latitude":48.061734,"longitude":-122.169543},"match_sources":["byod"],"match_byod_candidates":[{"name":"Havenwood Nursing Home","address":"1821 Grove St","latitude":48.061574,"longitude":-122.169605,"external_id":"hn_001"},{"name":"Life Care Centers of America","address":"1821 Grove St","latitude":48.061564,"longitude":-122.169587,"external_id":"lcc_001"}],"max_matches":5,"radius":50}}}}}},"responses":{"200":{"description":"Successfully matched places","content":{"application/json":{"example":{"matched_places":[{"reprompt_place_id":"rp_12345","name":"Central Park","address":"Central Park, New York, NY 10024","latitude":40.7829,"longitude":-73.9654,"categories":["park","tourist_attraction"],"phone_number":"+1 212-310-6600","match_explanation":"High confidence match: exact name and location match for iconic NYC landmark","external_ids":{"foursquare":"fsq_123456","overture":"ovt_789012"}}],"metadata":{"credits":1}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}},"400":{"description":"Invalid request parameters"},"401":{"description":"Invalid API credentials"},"500":{"description":"Internal server error"}}}},"/agent":{"post":{"tags":["Agent"],"summary":"Agent","description":"Simplified AI agent for answering questions with optional web search.\n\n**Parameters:**\n- `prompt`: The question or prompt for the agent\n- `reasoning_effort`: Level of reasoning (HIGH, MEDIUM, LOW)\n- `web_search`: Whether to enable web search capabilities\n\n**Reasoning Effort Levels:**\n- `LOW`: Quick responses for simple questions (1 credit)\n- `MEDIUM`: Standard reasoning for most queries (3 credits)  \n- `HIGH`: Deep analysis for complex questions (5 credits)\n\n**Web Search:**\n- When enabled, the agent can search the web and visit websites\n- Adds +2 credits to the base cost\n- Provides more current and comprehensive information\n\n**Authentication:**\nBearer token required in Authorization header.","operationId":"agent_agent_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"apiKey","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apikey"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/V3AgentRequest"},"examples":{"simple_question":{"summary":"Simple Question","description":"Ask a basic question without web search","value":{"prompt":"What is the capital of France?","reasoning_effort":"LOW","web_search":false}},"research_with_web":{"summary":"Research with Web Search","description":"Ask a question that requires web research","value":{"prompt":"What are the current business hours for Joe's Pizza in NYC?","reasoning_effort":"MEDIUM","web_search":true}},"complex_analysis":{"summary":"Complex Analysis","description":"Complex question requiring high reasoning effort","value":{"prompt":"Analyze the competitive landscape for coffee shops in Manhattan and provide strategic recommendations","reasoning_effort":"HIGH","web_search":true}}}}}},"responses":{"200":{"description":"Agent response completed successfully","content":{"application/json":{"example":{"answer":"Based on my research, Joe's Pizza at 7 Carmine St in Greenwich Village is currently open with the following hours: Monday-Thursday 11 AM - 11 PM, Friday-Saturday 11 AM - 12 AM, Sunday 12 PM - 10 PM.","reasoning_effort_used":"MEDIUM","web_search_used":true,"credits_used":3}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}},"400":{"description":"Invalid request parameters"},"401":{"description":"Invalid API credentials"},"500":{"description":"Internal server error"}}}},"/batches":{"post":{"tags":["Batch Enrich"],"summary":"Create Batch","description":"Create a new batch for enriching multiple places.\n\n**RESTful Batch Processing:**\n- Submit up to 50,000 places for enrichment in a single batch\n- Specify which attributes to enrich for all places in the batch\n- Optional prefilled data to skip enrichment for known attributes\n- Real-time status tracking and job management\n\n**Batch Features:**\n- **Bulk Processing**: Process thousands of places efficiently\n- **Status Tracking**: Monitor progress with detailed status counts\n- **Partial Results**: Get results as jobs complete, no need to wait for entire batch\n- **Error Handling**: Individual job failures don't affect other jobs\n- **Prefilled Data**: Skip enrichment costs for attributes you already know\n\n**Supported Attributes:**\nAll the same attributes as the single enrich endpoint: names, openingHours, phoneNumbers, websites, categories, address, closed_permanently, etc.\n\n**Response:**\nReturns a batch ID that can be used to check status and retrieve results.","operationId":"create_batch_batches_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"apiKey","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apikey"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/V3BatchRequest"},"examples":{"restaurant_batch":{"summary":"Restaurant Batch","description":"Batch enrichment for multiple restaurants","value":{"batch_name":"NYC Restaurants March 2024","jobs":[{"place_id":"place_nyc_001","inputs":{"name":"Joe's Pizza","address":"7 Carmine St, New York, NY 10014","latitude":40.7359,"longitude":-73.9911}},{"place_id":"place_nyc_002","inputs":{"name":"Starbucks","address":"1585 Broadway, New York, NY 10036","latitude":40.7614327,"longitude":-73.9776216}}],"attributes":["names","openingHours","phoneNumbers","websites"],"kick_off_jobs_now":true}},"prefilled_batch":{"summary":"Batch with Prefilled Data","description":"Batch with some attributes already known","value":{"batch_name":"Restaurants with Known Data","jobs":[{"place_id":"place_known_001","inputs":{"name":"Joe's Pizza","address":"7 Carmine St, New York, NY 10014","latitude":40.7359,"longitude":-73.9911},"prefilled_data":{"phoneNumbers":{"primary_phone":"+1-212-366-1182","confidence":"HIGH","reasoning":"Phone number from business listing"},"websites":{"primary_website":"https://www.joespizzanyc.com","confidence":"HIGH","reasoning":"Official website verified"}}}],"attributes":["names","openingHours","categories"],"kick_off_jobs_now":false}}}}}},"responses":{"200":{"description":"Batch created successfully","content":{"application/json":{"example":{"batch_id":"batch_2024_03_15_123456","batch_name":"NYC Restaurants March 2024","status":"pending","status_counts":{"pending":2,"processing":0,"completed":0,"failed":0,"total":2},"created_at":"2024-03-15T10:30:00Z","attributes":["names","openingHours","phoneNumbers","websites"],"credits_used":0}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}},"400":{"description":"Invalid request parameters or batch size exceeds limit"},"401":{"description":"Invalid API credentials"},"500":{"description":"Internal server error"}}},"get":{"tags":["Batch Enrich"],"summary":"List Batches","description":"List all batches for the organization.\n\n**Batch Overview:**\n- View all batches created by your organization\n- See batch status and progress at a glance\n- Paginated results for large numbers of batches\n- Sorted by creation date (newest first)","operationId":"list_batches_batches_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Number of batches to return","default":10,"title":"Limit"},"description":"Number of batches to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of batches to skip","default":0,"title":"Offset"},"description":"Number of batches to skip"},{"name":"apiKey","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apikey"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/V3BatchListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batches/{batch_id}":{"get":{"tags":["Batch Enrich"],"summary":"Get Batch Status","description":"Get the current status of a batch.\n\n**Batch Status Information:**\n- Overall batch status (pending, processing, completed, failed, partial)\n- Detailed job counts by status\n- Creation and last update timestamps\n- Total credits consumed\n- List of attributes being enriched\n\n**Status Values:**\n- `pending`: Batch created but not yet started processing\n- `processing`: Some jobs are currently being processed\n- `completed`: All jobs finished successfully\n- `failed`: Batch encountered critical errors\n- `partial`: Some jobs completed, some failed","operationId":"get_batch_status_batches__batch_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}},{"name":"apiKey","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apikey"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/V3BatchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/batches/{batch_id}/jobs":{"get":{"tags":["Batch Enrich"],"summary":"Get Batch Jobs","description":"Get detailed results for jobs within a batch.\n\n**Job Results Include:**\n- Original input data for each place\n- Enriched attribute data (outputs) for completed jobs\n- Job status and timestamps\n- Credits consumed per job\n- Error messages for failed jobs\n\n**Pagination:**\n- Use `limit` and `offset` parameters for pagination\n- Maximum 1000 jobs per request\n- Total job count included in response","operationId":"get_batch_jobs_batches__batch_id__jobs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"batch_id","in":"path","required":true,"schema":{"type":"string","title":"Batch Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Number of jobs to return","default":100,"title":"Limit"},"description":"Number of jobs to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of jobs to skip","default":0,"title":"Offset"},"description":"Number of jobs to skip"},{"name":"apiKey","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apikey"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/V3BatchJobsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/resolve-place":{"post":{"tags":["Resolve Place"],"summary":"Resolve Place Endpoint","description":"We do deep research on a place to identify if it exists, has digital footprint and is open.\n\nTakes a natural language query like \"Starbucks Market and 8th st san francisco\" and performs \ncomprehensive research to determine:\n- **Place Resolution**: Standardized address, coordinates, and location details\n- **Digital Footprint**: Web presence, social media, official websites, and online mentions\n- **Business Status**: Whether the place is open, temporarily closed, or permanently closed\n\n**Deep Research Process:**\nOur system conducts thorough investigation including web search, directory verification,\nsocial media analysis, and business registry checks to provide authoritative answers\nabout place existence and operational status.\n\n**Query Examples:**\n- \"Starbucks Market and 8th st san francisco\"\n- \"Joe's Pizza Greenwich Village NYC\"\n- \"Apple Store 1 Stockton St San Francisco CA\"\n- \"McDonald's Times Square Manhattan\"\n\n**Response Components:**\n- `qualified_input_place`: Resolved place with standardized address and coordinates\n- `place_existence`: Digital footprint analysis and existence verification with confidence scores\n- `permanently_closed_enrichment`: Current business status and closure information\n\nThis is currently a mock endpoint that returns sample data for demonstration purposes.\nIn a production implementation, this would integrate with place resolution, geocoding,\nweb search, and business verification services to perform actual deep research.","operationId":"resolve_place_endpoint_resolve_place_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"apiKey","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Apikey"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResolvePlaceRequest"},"examples":{"starbucks_example":{"summary":"Starbucks Location Query","description":"Resolve a Starbucks location with street intersection","value":{"query":"Starbucks Market and 8th st san francisco"}},"restaurant_example":{"summary":"Restaurant Query","description":"Resolve a restaurant with partial address","value":{"query":"Joe's Pizza Greenwich Village NYC"}},"business_with_address":{"summary":"Business with Full Address","description":"Resolve a business with complete address information","value":{"query":"Apple Store 1 Stockton St San Francisco CA"}}}}}},"responses":{"200":{"description":"Place resolved successfully","content":{"application/json":{"example":{"qualified_input_place":{"qualified_input_place":{"id":"resolved_place_123","name":"Starbucks","latitude":37.7749,"longitude":-122.4194,"full_address":"Market St & 8th St, San Francisco, CA 94103","street":"Market St & 8th St","city":"San Francisco","postalCode":"94103","country_code":"US"},"enrichment_metadata":{"version":"1.0","timestamp":"2024-03-15T10:30:00Z","trace":["Parsed query for business name: Starbucks","Extracted address: Market and 8th st san francisco","Geocoded to coordinates: 37.7749, -122.4194"]}},"place_existence":{"exists":true,"confidence":"HIGH","reasoning":"Found multiple digital sources confirming location","last_verified":"2024-03-15T10:30:00Z"},"permanently_closed_enrichment":{"version":"1.0","is_permanently_closed":false,"status":"Open","reasoning":"Business appears to be operating normally","confidence":"HIGH"},"query":"Starbucks Market and 8th st san francisco","processing_time_ms":1250}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}},"400":{"description":"Invalid request parameters"},"401":{"description":"Invalid API credentials"},"500":{"description":"Internal server error"}}}}},"components":{"schemas":{"ByodCandidate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Name of the candidate place"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address","description":"Address of the candidate place"},"latitude":{"type":"number","maximum":90.0,"minimum":-90.0,"title":"Latitude","description":"Latitude coordinate"},"longitude":{"type":"number","maximum":180.0,"minimum":-180.0,"title":"Longitude","description":"Longitude coordinate"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone","description":"Phone number"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","description":"Place category"},"external_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id","description":"Your internal ID for this place"}},"type":"object","required":["latitude","longitude"],"title":"ByodCandidate","description":"Bring Your Own Data candidate for matching"},"ExternalIds":{"properties":{"foursquare":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Foursquare","description":"Foursquare place ID"},"overture":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Overture","description":"Overture Maps place ID"},"byod_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Byod Id","description":"Your own data ID"}},"type":"object","title":"ExternalIds","description":"External IDs from different data sources"},"FindPlaceResult":{"properties":{"place_id":{"type":"string","title":"Place Id","description":"Unique identifier for the place"},"name":{"type":"string","title":"Name","description":"Name of the place"},"full_address":{"type":"string","title":"Full Address","description":"Complete address of the place"},"latitude":{"type":"number","maximum":90.0,"minimum":-90.0,"title":"Latitude","description":"Latitude coordinate"},"longitude":{"type":"number","maximum":180.0,"minimum":-180.0,"title":"Longitude","description":"Longitude coordinate"},"categories":{"items":{"type":"string"},"type":"array","title":"Categories","description":"List of categories for this place"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number","description":"Phone number"},"open_status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Open Status","description":"Current open status (open/closed)"},"website":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Website","description":"Website URL"}},"type":"object","required":["place_id","name","full_address","latitude","longitude","categories"],"title":"FindPlaceResult","description":"A place result from the find_places endpoint"},"FindPlacesMetadata":{"properties":{"credits":{"type":"integer","title":"Credits","description":"Number of credits used for this request"}},"type":"object","required":["credits"],"title":"FindPlacesMetadata","description":"Metadata for find_places response"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PlaceInput":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Name of the place"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address","description":"Street address of the place"},"latitude":{"type":"number","maximum":90.0,"minimum":-90.0,"title":"Latitude","description":"Latitude coordinate"},"longitude":{"type":"number","maximum":180.0,"minimum":-180.0,"title":"Longitude","description":"Longitude coordinate"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone","description":"Phone number"},"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category","description":"Place category"}},"type":"object","required":["latitude","longitude"],"title":"PlaceInput","description":"Input place data for matching"},"PlacematchMetadata":{"properties":{"credits":{"type":"integer","title":"Credits","description":"Number of credits used for this request"}},"type":"object","required":["credits"],"title":"PlacematchMetadata","description":"Metadata about the placematch operation"},"PlacematchRequest":{"properties":{"place":{"$ref":"#/components/schemas/PlaceInput","description":"The place to match against"},"match_sources":{"items":{"type":"string","enum":["reprompt","overture","foursquare","byod"]},"type":"array","title":"Match Sources","description":"Data sources to search. 'reprompt' is always included.","default":["reprompt"]},"match_byod_candidates":{"anyOf":[{"items":{"$ref":"#/components/schemas/ByodCandidate"},"type":"array","maxItems":50},{"type":"null"}],"title":"Match Byod Candidates","description":"Your own data candidates for matching (max 50). Required when 'byod' is in match_sources."},"max_matches":{"type":"integer","maximum":10.0,"minimum":1.0,"title":"Max Matches","description":"Maximum number of matches to return per source","default":3},"radius":{"type":"number","maximum":5000.0,"minimum":50.0,"title":"Radius","description":"Search radius in meters","default":900}},"type":"object","required":["place"],"title":"PlacematchRequest","description":"Request model for placematch API"},"PlacematchResponse":{"properties":{"matched_places":{"items":{"$ref":"#/components/schemas/RepromptPlace"},"type":"array","title":"Matched Places","description":"Array of matched places"},"metadata":{"$ref":"#/components/schemas/PlacematchMetadata","description":"Request metadata"}},"type":"object","required":["matched_places","metadata"],"title":"PlacematchResponse","description":"Response model for placematch API"},"RepromptPlace":{"properties":{"reprompt_place_id":{"type":"string","title":"Reprompt Place Id","description":"Unique Reprompt place identifier"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Name of the place"},"address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Address","description":"Full address"},"latitude":{"anyOf":[{"type":"number","maximum":90.0,"minimum":-90.0},{"type":"null"}],"title":"Latitude","description":"Latitude coordinate"},"longitude":{"anyOf":[{"type":"number","maximum":180.0,"minimum":-180.0},{"type":"null"}],"title":"Longitude","description":"Longitude coordinate"},"categories":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Categories","description":"List of categories"},"phone_number":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone Number","description":"Phone number"},"match_explanation":{"type":"string","title":"Match Explanation","description":"Human-readable explanation of the match"},"external_ids":{"$ref":"#/components/schemas/ExternalIds"}},"type":"object","required":["reprompt_place_id","match_explanation","external_ids"],"title":"RepromptPlace","description":"A place from Reprompt's database"},"ResolvePlaceRequest":{"properties":{"query":{"type":"string","title":"Query","description":"Natural language query like 'Starbucks Market and 8th st san francisco'"}},"type":"object","required":["query"],"title":"ResolvePlaceRequest","description":"Request model for resolve place endpoint."},"ResolvePlaceResponse":{"properties":{"qualified_input_place":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Qualified Input Place","description":"Qualified and resolved input place information"},"place_existence":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Place Existence","description":"Information about whether the place exists"},"permanently_closed_enrichment":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Permanently Closed Enrichment","description":"Information about whether the place is permanently closed"},"query":{"type":"string","title":"Query","description":"Original query that was processed"},"processing_time_ms":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Processing Time Ms","description":"Time taken to process the request in milliseconds"}},"type":"object","required":["query"],"title":"ResolvePlaceResponse","description":"Combined response containing place resolution, existence, and closure status."},"V3AgentRequest":{"properties":{"prompt":{"type":"string","title":"Prompt","description":"The prompt or question for the agent"},"reasoning_effort":{"type":"string","enum":["HIGH","MEDIUM","LOW"],"title":"Reasoning Effort","description":"Level of reasoning effort","default":"MEDIUM"},"web_search":{"type":"boolean","title":"Web Search","description":"Whether to enable web search capabilities","default":false}},"type":"object","required":["prompt"],"title":"V3AgentRequest","description":"Simplified request model for agent endpoint"},"V3AgentResponse":{"properties":{"answer":{"type":"string","title":"Answer","description":"The agent's response to the prompt"},"reasoning_effort_used":{"type":"string","enum":["HIGH","MEDIUM","LOW"],"title":"Reasoning Effort Used","description":"Reasoning effort level used"},"web_search_used":{"type":"boolean","title":"Web Search Used","description":"Whether web search was performed"},"credits_used":{"type":"integer","title":"Credits Used","description":"Number of credits consumed"}},"type":"object","required":["answer","reasoning_effort_used","web_search_used","credits_used"],"title":"V3AgentResponse","description":"Simplified response model for agent endpoint"},"V3AttributeDetails":{"properties":{"key":{"type":"string","title":"Key"},"name":{"type":"string","title":"Name"},"description":{"type":"string","title":"Description"},"function_signatures":{"items":{"$ref":"#/components/schemas/V3AttributeFunctionSignature"},"type":"array","title":"Function Signatures"},"enrichment_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Enrichment Type"},"generic_api_config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Generic Api Config"}},"type":"object","required":["key","name","description","function_signatures"],"title":"V3AttributeDetails","description":"Detailed information about a single attribute"},"V3AttributeFunctionSignature":{"properties":{"required_inputs":{"items":{"$ref":"#/components/schemas/V3InputField"},"type":"array","title":"Required Inputs"},"optional_inputs":{"anyOf":[{"items":{"$ref":"#/components/schemas/V3InputField"},"type":"array"},{"type":"null"}],"title":"Optional Inputs"},"output_schema":{"additionalProperties":true,"type":"object","title":"Output Schema"},"example_output":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Example Output"},"credit_cost":{"type":"integer","title":"Credit Cost"}},"type":"object","required":["required_inputs","output_schema","credit_cost"],"title":"V3AttributeFunctionSignature"},"V3AttributesResponse":{"properties":{"attributes":{"items":{"$ref":"#/components/schemas/V3AttributeDetails"},"type":"array","title":"Attributes"},"total_count":{"type":"integer","title":"Total Count"}},"type":"object","required":["attributes","total_count"],"title":"V3AttributesResponse","description":"Response for the /attributes endpoint"},"V3BatchJob":{"properties":{"place_id":{"type":"string","title":"Place Id","description":"Unique identifier for this place"},"inputs":{"additionalProperties":true,"type":"object","title":"Inputs","description":"Place input data (name, address, coordinates)"},"prefilled_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Prefilled Data","description":"Optional prefilled attribute data"}},"type":"object","required":["place_id","inputs"],"title":"V3BatchJob","description":"A single job within a batch"},"V3BatchJobResult":{"properties":{"place_id":{"type":"string","title":"Place Id","description":"Unique identifier for this place"},"status":{"type":"string","enum":["pending","processing","completed","failed"],"title":"Status","description":"Job status"},"inputs":{"additionalProperties":true,"type":"object","title":"Inputs","description":"Original input data"},"outputs":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Outputs","description":"Enriched attribute data"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At","description":"ISO timestamp when job was created"},"completed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Completed At","description":"ISO timestamp when job completed"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Error message if job failed"},"credits_used":{"type":"integer","title":"Credits Used","description":"Credits consumed by this job","default":0}},"type":"object","required":["place_id","status","inputs"],"title":"V3BatchJobResult","description":"Detailed result for a single job"},"V3BatchJobsResponse":{"properties":{"batch_id":{"type":"string","title":"Batch Id","description":"Batch identifier"},"jobs":{"items":{"$ref":"#/components/schemas/V3BatchJobResult"},"type":"array","title":"Jobs","description":"List of job results"},"total_jobs":{"type":"integer","title":"Total Jobs","description":"Total number of jobs in batch"},"limit":{"type":"integer","title":"Limit","description":"Number of jobs returned in this response"},"offset":{"type":"integer","title":"Offset","description":"Number of jobs skipped"}},"type":"object","required":["batch_id","jobs","total_jobs","limit","offset"],"title":"V3BatchJobsResponse","description":"Response model for batch jobs listing"},"V3BatchListResponse":{"properties":{"batches":{"items":{"$ref":"#/components/schemas/V3BatchResponse"},"type":"array","title":"Batches","description":"List of batches"},"total_batches":{"type":"integer","title":"Total Batches","description":"Total number of batches"},"limit":{"type":"integer","title":"Limit","description":"Number of batches returned"},"offset":{"type":"integer","title":"Offset","description":"Number of batches skipped"}},"type":"object","required":["batches","total_batches","limit","offset"],"title":"V3BatchListResponse","description":"Response model for listing batches"},"V3BatchRequest":{"properties":{"batch_name":{"type":"string","title":"Batch Name","description":"Human-readable name for the batch"},"jobs":{"items":{"$ref":"#/components/schemas/V3BatchJob"},"type":"array","maxItems":50000,"minItems":1,"title":"Jobs","description":"List of jobs to process"},"attributes":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Attributes","description":"List of attributes to enrich for all jobs"},"kick_off_jobs_now":{"type":"boolean","title":"Kick Off Jobs Now","description":"Whether to start processing immediately","default":true}},"type":"object","required":["batch_name","jobs","attributes"],"title":"V3BatchRequest","description":"Request model for creating a batch"},"V3BatchResponse":{"properties":{"batch_id":{"type":"string","title":"Batch Id","description":"Unique batch identifier"},"batch_name":{"type":"string","title":"Batch Name","description":"Human-readable batch name"},"status":{"type":"string","enum":["pending","processing","completed","failed","partial"],"title":"Status","description":"Overall batch status"},"status_counts":{"$ref":"#/components/schemas/V3BatchStatusCounts","description":"Job status breakdown"},"created_at":{"type":"string","title":"Created At","description":"ISO timestamp when batch was created"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At","description":"ISO timestamp when batch was last updated"},"attributes":{"items":{"type":"string"},"type":"array","title":"Attributes","description":"Attributes being enriched"},"credits_used":{"type":"integer","title":"Credits Used","description":"Total credits consumed by this batch","default":0}},"type":"object","required":["batch_id","batch_name","status","status_counts","created_at","attributes"],"title":"V3BatchResponse","description":"Response model for batch creation and status"},"V3BatchStatusCounts":{"properties":{"pending":{"type":"integer","title":"Pending","description":"Number of pending jobs"},"processing":{"type":"integer","title":"Processing","description":"Number of jobs currently processing"},"completed":{"type":"integer","title":"Completed","description":"Number of completed jobs"},"failed":{"type":"integer","title":"Failed","description":"Number of failed jobs"},"total":{"type":"integer","title":"Total","description":"Total number of jobs"}},"type":"object","required":["pending","processing","completed","failed","total"],"title":"V3BatchStatusCounts","description":"Status counts for jobs in a batch"},"V3EnrichRequest":{"properties":{"inputs":{"additionalProperties":true,"type":"object","title":"Inputs"},"attributes":{"items":{"type":"string"},"type":"array","minItems":1,"title":"Attributes","description":"List of attributes to enrich"}},"type":"object","required":["inputs","attributes"],"title":"V3EnrichRequest","description":"Main enrichment request"},"V3FindPlacesResponse":{"properties":{"results":{"items":{"$ref":"#/components/schemas/FindPlaceResult"},"type":"array","title":"Results","description":"Array of found places"},"metadata":{"$ref":"#/components/schemas/FindPlacesMetadata","description":"Request metadata"}},"type":"object","required":["results","metadata"],"title":"V3FindPlacesResponse","description":"Response model for v3 find_places endpoint"},"V3InputField":{"properties":{"name":{"type":"string","title":"Name"},"type":{"type":"string","title":"Type"},"description":{"type":"string","title":"Description"},"example":{"anyOf":[{},{"type":"null"}],"title":"Example"}},"type":"object","required":["name","type","description"],"title":"V3InputField","description":"Represents a single input field for an attribute"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}},"tags":[{"name":"Enrich","description":"Single place enrichment - enrich individual places with multiple attributes"},{"name":"Batch Enrich","description":"Batch enrichment - process thousands of places efficiently with status tracking"},{"name":"Find Places","description":"Location-based place discovery - find places near coordinates with filtering"},{"name":"Placematch","description":"Place matching and conflation - match places across different databases"},{"name":"Agent","description":"AI agent - intelligent research and question answering with web search"}]}